import ply.lex as lex

tokens = ("OPERADORA",)

t_ignore = ' \t\n;'

def t_OPERADORA(t):
  r'(\(\ \+\ [0-9]{2}\ \)\ xx\ \(\ [0-9]{2}\ \)\ |[0-9]{1,2}\ ([X]{2}|\(xx\))\ [0-9]{2}\ |\([0-9]{2}(\ |\-)[0-9]{2}\)\ |(\+?[0-9]{2}\ (([0-9]{2}\ )|(\([0-9]{2}\)\ ))?)?|([0-9]{2}\-)|(\([0-9]{2}\)\ ){1,2})?[0-9]{4}(\.|\-)?[0-9]{4}'
  return t

def t_error(t):
  print("Caracter ilegal: [%s]"%t.value)
  t.lexer.skip(1)

lexer = lex.lex()
lexer.input('''
99999999
9999.9999
9999-9999
(79) 99999999
79-9999.9999
79-9999-9999
(55) (79) 99999999
+55 (55) 9999-9999
55 55 5555-5555
(55 55) 5555-5555
(55-55) 5555-5555
55 XX 55 99999999
55 (xx) 55 99999999
0 (xx) 55 99999999
( + 55 ) xx ( 55 ) 55555555
+55 (55) 55555555
''')
for tok in lexer:
  print(tok.type, tok.value, tok.lineno, tok.lexpos)